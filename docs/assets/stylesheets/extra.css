/* CSS Suplémentaire : https://zensical.org/docs/customization/#additional-css */

:root {
  scroll-behavior: smooth;
}

/* largeur de la zone de contenu : https://zensical.org/docs/setup/navigation/#content-area-width */
.md-grid {
  max-width: 1600px;
}

.md-nav--secondary {
  min-width: 350px;
}

.md-sidebar--secondary {
  min-width: 400px;
}

.md-nav__item--active.md-nav__item--nested > .md-nav__link,
.md-nav__item--pruned.md-nav__item--nested > .md-nav__link {
  font-weight: 700;
  color: var(--md-primary-fg-color);
}

.md-nav__item--section:hover > .md-nav__link {
  border: 1px solid var(--md-accent-fg-color);
  color: var(--md-accent-fg-color);
  padding: 8px;
}

.md-nav__item--section > .md-nav__link {
  border: 1px solid var(--md-primary-fg-color);
  color: var(--md-primary-fg-color);
  padding: 8px;
}

th,
td {
  border: 0.025rem solid var(--md-typeset-table-color);
}

/*  
  ==========================================================================
  Palette dérivée d'OmnyVia / OmnyDocs
  --------------------------------------------------------------------------
  - Lilas principal  : #f3a5ff
  - Cyan accent      : #4fd4ff
  - Fond sombre      : #111827
  - Fond clair       : #f5f5fa
  - Texte sombre     : #111827
  - Texte clair      : #f9fafb
  ==========================================================================
*/

/* =========================== */
/* Thème clair (scheme=default) */
/* =========================== */

:root,
[data-md-color-scheme="default"] {
  /* Fond / texte des blocs de code */
  --md-code-bg-color: #f5f5fa; /* bloc bien détaché du fond blanc */
  --md-code-fg-color: #111827; /* texte principal très lisible     */
  --md-code-hl-color: #e0ecff; /* surlignage de ligne (search, etc) */

  /* Couleurs de syntaxe */
  --md-code-hl-number-color: #df6fff; /* nombres : lilas vif              */
  --md-code-hl-special-color: #f97373; /* décorateurs / specials : rouge   */
  --md-code-hl-function-color: #2563eb; /* fonctions : bleu                 */
  --md-code-hl-constant-color: #7c3aed; /* const / true/false : violet      */
  --md-code-hl-keyword-color: #0ea5e9; /* if, for, return : cyan           */
  --md-code-hl-string-color: #079b20; /* chaînes : vert lisible           */
  --md-code-hl-name-color: #111827; /* identifiants neutres             */
  --md-code-hl-operator-color: #374151; /* +, -, =                          */
  --md-code-hl-punctuation-color: #6b7280; /* ., (), {}                        */
  --md-code-hl-comment-color: #9ca3af; /* commentaires gris clair          */
  --md-code-hl-generic-color: #111827; /* fallback                         */
  --md-code-hl-variable-color: #7563bb; /* variables “importantes”          */
}

/* Style visuel des blocs en thème clair */
[data-md-color-scheme="default"] .md-typeset pre code {
  border-radius: 0.25rem;
  border: 1px solid #e0e7ff;
  box-shadow: 0 6px 16px rgba(15, 23, 42, 0.06);
}

/* =========================== */
/* Thème sombre (scheme=slate) */
/* =========================== */

[data-md-color-scheme="slate"] {
  /* Fond / texte des blocs de code */
  --md-code-bg-color: #111827; /* graphite profond                  */
  --md-code-fg-color: #f9fafb; /* texte très clair                  */
  --md-code-hl-color: #1f2937; /* surlignage discret                */

  /* Couleurs de syntaxe – versions “néon” contrôlées */
  --md-code-hl-number-color: #f3a5ff; /* nombres : lilas Omny             */
  --md-code-hl-special-color: #fb7185; /* specials : rose/rouge            */
  --md-code-hl-function-color: #cfdf96; /* fonctions : bleu clair           */
  --md-code-hl-constant-color: #c4b5fd; /* const : violet doux              */
  --md-code-hl-keyword-color: #38bdf8; /* if, for : cyan Omny              */
  --md-code-hl-string-color: #4ade80; /* chaînes : vert néon lisible      */
  --md-code-hl-name-color: #e5e7eb; /* identifiants : quasi-blanc       */
  --md-code-hl-operator-color: #9ca3af; /* opérateurs                       */
  --md-code-hl-punctuation-color: #6b7280; /* ponctuation                      */
  --md-code-hl-comment-color: #6b7280; /* commentaires en gris moyen       */
  --md-code-hl-generic-color: #e5e7eb; /* fallback                         */
  --md-code-hl-variable-color: #7563bb; /* variables mises en avant         */
}

/* Style visuel des blocs en thème sombre */
[data-md-color-scheme="slate"] .md-typeset pre code {
  border-radius: 0.25rem;
  border: 1px solid rgba(79, 148, 255, 0.35); /* liseré bleu-cyan */
  box-shadow: 0 10px 24px rgba(0, 0, 0, 0.45);
}

/* Optionnel : padding et typographie harmonisés pour tous les thèmes */
.md-typeset pre code {
  font-size: 0.69rem;
  line-height: 1.5;
  padding: 1.1rem 1.2rem;
}

/* -------------------------------------------------------------------
 * Méta-bloc d'article (OmnyDocs)
 * ------------------------------------------------------------------- */

.md-typeset {
  --omny-meta-border: rgba(148, 163, 184, 0.32); /* Gris neutre */
  --omny-meta-muted: rgba(148, 163, 184, 0.85);
  --omny-meta-pill-bg: var(--md-code-bg-color);
}

/* Conteneur de métadonnées */
.md-typeset .metadata {
  position: relative;
  margin: 1.2rem 0 2rem;
  padding: 0.4rem 0.8rem;

  display: flex;
  align-items: center;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 0.4rem;

  border-radius: 0.6rem;
  border: 1px solid var(--omny-meta-border);
  font-size: 0.7rem;
  line-height: 1.4;
  background-color: var(--md-default-bg-color);
}

/* Badge version flottant centré */
.md-typeset .metadata__version {
  position: absolute;
  top: -0.65rem;
  left: 50%;
  transform: translateX(-50%);

  padding: 0.1rem 0.55rem;
  font-size: 0.65rem;
  font-weight: 600;

  border-radius: 8px;
  background-color: var(--md-default-bg-color);
  color: var(--md-accent-fg-color);

  border: 1px solid var(--omny-meta-border);
  white-space: nowrap;
}

/* Texte du niveau */
.md-typeset .metadata__niveau {
  font-weight: 500;
}

/* Bloc de durée */
.md-typeset .metadata__duree {
  display: flex;
  align-items: center;
  gap: 0.4rem;
  flex-wrap: wrap;
}

.md-typeset .metadata__duree-text {
  color: var(--omny-meta-muted);
}

/* Capsule de temps de lecture */
.md-typeset .metadata__duree-time {
  padding: 0.2rem 0.4rem;
  border-radius: 8px;

  border: 1px solid var(--md-accent-fg-color);
  background-color: var(--omny-meta-pill-bg);
  font-weight: 500;
  white-space: nowrap;
}

/* Mobile : empilement naturel */
@media (max-width: 768px) {
  .md-typeset .metadata {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.4rem;
    padding-top: 1.2rem; /* place pour le badge */
  }

  .md-typeset .metadata__duree {
    margin-left: 0;
  }
}
